## 介绍
**BROP**， Blind Retur Oriented Programming，能够在无法获得二进制程序的情况下，基于远程服务崩溃与否（连接是否中断），进行 ROP 攻击获得 shell，可用于开启了 ASLR、NX和canaries的 64 位 Linux
## 原理
### 情况
在符合一定的前提条件下，无法获得二进制文件
### 必要条件
- 目标程序存在栈溢出漏洞，并且可以稳定触发
- 目标进程在崩溃后会立即重启，并且重启后的进程内存不会重新随机化（这样即使目标机器开启了 ASLR 也没有影响）
- 如果在编译时启用了 PIE ，则服务器必须是一个 fork 服务器，并且在重启时不使用 execve
### 攻击的主要阶段
#### 1. Stack Reading
##### 目的
泄露 canaries 和返回地址，然后从返回地址可以推算出程序的加载地址，用于后续 gadgets 的扫描泄露
##### 方法
遍历所有 256 个数，每次溢出一个字节，根据程序是否崩溃来判断溢出值是否正确

就这样一个字节一个字节地泄露，知道获得完整的8字节canares

用同样的方法泄露得到返回地址
#### 2. Blind ROP
##### 目的
用于远程搜索 gadgets，目标是从目标程序从内存写到 socket，传回攻击者本地
##### 方法
